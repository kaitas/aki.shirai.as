---
author: ameblo
title: "\n\t\t\t\t修羅場の「しゅ」\t\t"
slug: '%e4%bf%ae%e7%be%85%e5%a0%b4%e3%81%ae%e3%80%8c%e3%81%97%e3%82%85%e3%80%8d'
id: 2896
date: '2006-04-20 08:20:16'
layout: post
tags:
  - AceSpeeder2
  - 書き方
---

どっぷり開発中。 AS2は木村君にちょっと手伝ってもらって、クラスとHLSLの統合がより進んでます。 ここんところたくさんのアプリ向けに画像認識をHLSLで書く機会が多かったのですが、コードが整理されていないので有用な試験コードもほぼゴミのようにほったらかし。今後は少しは再利用が進むと思われます(まだまだ課題は多いけど)。 新しいカメラ位置は結局、"頭部背面”という位置になりました。 大きく変わったわけではないので、コードの流用はできますね。 いまCPU側の地味なコードを書いているところです。 さっさと終わらせられればいいんだろうけど、結構こういうのが時間かかってしまいます。 なお、HLSL内でifやforを使ってピクセルカウントしてみましたが、はっきり言って使えたものじゃない遅さです。 おそらくパイプラインの数を超えないような処理の書き方をすれば速いような気がします。ルックアップなどには使えるかもしれない。先例あるし。 CPUロックでカウントは、ボトルネックを作るし、制約も多いんだけど、実は用途がはっきりしていれば、ちょっとした高速化もできることを発見。とりあえず品質ほぼそのままで軽く2倍速にはなりました。 なんだかまったり書いていますが、昼間から体の調子が悪くて、鼻水は止まらないのです。研究室のソファに倒れたまま、気がついたら深夜帯に突入していました。 残りの時間とやることを数え始めると、寒気がします。 やはりメール対応は1日2時間以下にしたいところです…。